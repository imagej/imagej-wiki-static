<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Spot Intensity Analysis - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Spot_Intensity_Analysis","wgTitle":"Spot Intensity Analysis","wgCurRevisionId":43374,"wgRevisionId":43374,"wgArticleId":3054,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Particle analysis","Plugins"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Spot_Intensity_Analysis","wgRelevantArticleId":3054,"wgRequestId":"a14f1192e43ffd6f542b3af5","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="Simple ImageJ/Fiji plugin to plot intensity of a spot over time."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Spot Intensity Analysis"/>

	<meta property="og:description" content="Simple ImageJ/Fiji plugin to plot intensity of a spot over time."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Spot_Intensity_Analysis rootpage-Spot_Intensity_Analysis skin-erudite action-view">
		<div class="mw-jump">
			<a href="Spot_Intensity_Analysis.html#bodyContent">Skip to content</a>, 			<a href="Spot_Intensity_Analysis.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Spot_Intensity_Analysis.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is a read-only version of imagej.net, available during the transition to a new site.
					<br>Please direct any questions or issues to <a href="https://forum.image.sc/t/imagej-wiki-is-down/39672">this Image.sc Forum thread</a>.
					<br>Thank you for your patience as we improve the website!
				</div>

				<h1>Spot Intensity Analysis</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="max-width: 31em; font-size: 90%; text-align: left; float: right; border: 1px solid #a0a0a0;">
<tr>
<th colspan="2" style="text-align: center; font-size: 130%;"> <div style="float: left"></div>Spot Intensity Analysis (ImageJ)<div style="clear: left;"></div>
</th></tr>
<tr>
<th> Author
</th>
<td> Nico Stuurman (nico.stuurman at ucsf.edu), algorithm and testing by Ankur Jain (ankurjain85 at gmail.com)
</td></tr>




<tr>
<th> Maintainer
</th>
<td> <a rel="nofollow" class="external text" href="http://valelab.ucsf.edu/external/people/p-stuurman.htm">Nico Stuurman</a>
</td></tr>


<tr>
<th> Source
</th>
<td> <a rel="nofollow" class="external text" href="https://github.com/nicost/spotIntensityAnalysis/">on GitHub</a>
</td></tr>
<tr>
<th> Initial release
</th>
<td> 2015/09/15
</td></tr>
<tr>
<th> Latest version
</th>
<td> 2018/01/18 - version 0.3
</td></tr>

<tr>
<th> Category
</th>
<td> <a href="./Category:Particle_analysis" title="Category:Particle analysis">Category:Particle_analysis</a>
</td></tr>

</table>
<p><br />
</p><p>Simple ImageJ/Fiji plugin to plot intensity of a spot over time.  
</p><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Spot_Intensity_Analysis.html#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Spot_Intensity_Analysis.html#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Spot_Intensity_Analysis.html#Testing"><span class="tocnumber">3</span> <span class="toctext">Testing</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Spot_Intensity_Analysis.html#Common_Problems"><span class="tocnumber">4</span> <span class="toctext">Common Problems</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Spot_Intensity_Analysis.html#History"><span class="tocnumber">5</span> <span class="toctext">History</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>To install this plugin check the "ValelabUtils" <a href="Following_an_update_site" title="Following an update site">update site</a> in the Fiji updater.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>This plugin has two phases, in the first phase it detects spots. It does so by scanning for local maxima in the image with a box of user-defined size ("Spot radius (pixels)"). Local maxima are accepted when the maximum is higher than a user-defined number ("Noise tolerance") over the average of the 4 corners of the box. An image constructed by averaging the first n images ("Check First n Frames") is used for the spot finding.  This same image is used to calculate the background (which is currently done using the ImageJ Background tool using a ball radius of 100 and "Sliding paraboloid" checked).
</p><p><br />
</p>
<div class="MediaTransformError" style="width: 224px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>  <div class="MediaTransformError" style="width: 404px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>
<p>In the second phase the intensities of each spot at each time point is calculated.  The Background image is first subtracted from each frame, and then the intensities of all pixels in a circle with given radius around the center (maximum) pixel is calculated.  When selecting a row in the resulting table, a plot is generated with the intensities plotted as a function of time.  Clicking in the image itself will select the nearest by spot, select the corresponding row in the table and draw the intensity plot. Data can be exported by selecting the table, followed by "File &gt; Save As" in the menu.  The first two columns in the output table are the x and y position of the spot (in pixels). The keyboard key "j" will scroll up, the key "k" will scroll down. 
</p><p>If there is significant movement during the time-lapse image, you will first need to "de-jitter" using another ImageJ plugin.
</p>
<h2><span class="mw-headline" id="Testing">Testing</span></h2>
<p>To test the plugin, use the data:  File &gt; Open Samples &gt; Tracks for Trackmate.  Convert to 16 bit (Image &gt; Type &gt; 16-bit).  In the Spot Intensity Analysis plugin set Time Interval to 1.0, Electrons per ADU to 1.0, Check First n Frames to 10, Spot Radius (pixels) to 3, Noise tolerance to 45, and Background estimation to Median-40.   Press OK.  You should get a table with 3 rows.  Clicking on any of the rows in the table or the red circles in the image should bring up a graph with the intensity profile.  
</p><p><br />
</p>
<div class="MediaTransformError" style="width: 218px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>  <div class="MediaTransformError" style="width: 400px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>
<h2><span class="mw-headline" id="Common_Problems">Common Problems</span></h2>
<p>When the plugin does not work on your stack, or if it only works on the first image, make sure that ImageJ sees your stack as a time-lapse and not as a Z-stack.  To do so, go to Image &gt; Properties, and make sure that the number of Slices is 1, and the number of Frames is whatever the length of your stack.  If that is not the case, change the numbers in the dialog.
</p>
<h2><span class="mw-headline" id="History">History</span></h2>
<ul><li> 2018-01-18 - Version 0.3. Updated to match changes in jfreechart library<br /></li>
<li> 2017-07-04 - Version 0.22. Use Gaussian blur to determine background rather than rolling ball. Use floats rather than longs in calculations to avoid clipping and negative values. Should result in better precision and better background estimate.<br /></li></ul>

<!-- 
NewPP limit report
Cached time: 20200713073454
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.044 seconds
Real time usage: 0.044 seconds
Preprocessor visited node count: 118/1000000
Preprocessor generated node count: 865/1000000
Postâ€expand include size: 1214/2097152 bytes
Template argument size: 654/2097152 bytes
Highest expansion depth: 10/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    5.721      1 - -total
100.00%    5.721      1 - Template:Infobox
 33.96%    1.943      1 - Template:GitHub
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Spot_Intensity_Analysis&amp;oldid=43374">http://imagej.net/index.php?title=Spot_Intensity_Analysis&amp;oldid=43374</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 6 March 2020, at 14:36.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Particle_analysis" title="Category:Particle analysis">Particle analysis</a></li><li><a href="./Category:Plugins" title="Category:Plugins">Plugins</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":252});});</script>
		</body>
		</html>
		