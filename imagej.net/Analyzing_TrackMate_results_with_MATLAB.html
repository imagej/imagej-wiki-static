<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Analyzing TrackMate results with MATLAB - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Analyzing_TrackMate_results_with_MATLAB","wgTitle":"Analyzing TrackMate results with MATLAB","wgCurRevisionId":17774,"wgRevisionId":17774,"wgArticleId":1887,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tracking","Matlab"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Analyzing_TrackMate_results_with_MATLAB","wgRelevantArticleId":1887,"wgRequestId":"3d42a7165a8694e8d8264e5f","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="This page documents the various ways to exchange data between TrackMate and MATLAB."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushMatlab.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Analyzing TrackMate results with MATLAB"/>

	<meta property="og:description" content="This page documents the various ways to exchange data between TrackMate and MATLAB."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Analyzing_TrackMate_results_with_MATLAB rootpage-Analyzing_TrackMate_results_with_MATLAB skin-erudite action-view">
		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Analyzing_TrackMate_results_with_MATLAB.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is a read-only version of imagej.net, available during the transition to the new website, which you can preview <a href="https://imagej.github.io/">here</a>.
					<br>Please direct any questions or issues to <a href="https://forum.image.sc/t/imagej-wiki-is-down/39672">this Image.sc Forum thread</a>.
					<br>Thank you for your patience as we improve the website!
				</div>

				<h1>Analyzing TrackMate results with MATLAB</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This page documents the various ways to exchange data between <a href="TrackMate" title="TrackMate">TrackMate</a> and <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>. 
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Analyzing_TrackMate_results_with_MATLAB.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Analyzing_TrackMate_results_with_MATLAB.html#Location_and_installation_of_import_functions"><span class="tocnumber">2</span> <span class="toctext">Location and installation of import functions</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Analyzing_TrackMate_results_with_MATLAB.html#Importing_track_files"><span class="tocnumber">3</span> <span class="toctext">Importing track files</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Analyzing_TrackMate_results_with_MATLAB.html#Application_examples_and_links"><span class="tocnumber">4</span> <span class="toctext">Application examples and links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p><a href="TrackMate" title="TrackMate">TrackMate</a> was originally designed solely as a tracking tool. Its goal was just to generate the tracks then another tool was supposed to analyze these tracks. Nonetheless, we built some crude analysis facilities in TrackMate for rapid inspection. But in no way they can compete with a proper dedicated, custom analysis tool. 
</p><p>I favor <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> as a tool for data analysis. Therefore the interoperability facilities first deal with this software. 
</p><p><br />
</p>
<h2><span class="mw-headline" id="Location_and_installation_of_import_functions">Location and installation of import functions</span></h2>
<p>These tools take the form of several, hopefully well documented <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> functions that are shipped with in your Fiji installation. All of them are located in the <i>scripts</i> folder of your Fiji package
</p>
<pre class="brush:bash">
tinevez@primevere:~/Development/fiji&gt; cd ~/Applications/Fiji/Fiji.app/scripts/
tinevez@primevere:~/Applications/Fiji/Fiji.app/scripts&gt; ls
InstallJava3D.m              Matlab3DViewerIntroduction.m
IsJava3DInstalled.m          Miji.m
Matlab3DViewerDemo_1.m       Miji_Test.m
Matlab3DViewerDemo_2.m       bfopen.m
Matlab3DViewerDemo_3.m       importTrackMateTracks.m
tinevez@primevere:~/Applications/Fiji/Fiji.app/scripts&gt; 
</pre>
<p>If you did not do it already, there is a configuration step to take in <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>, so as to make <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> aware of these files. You need to add the <i>scripts</i> folder to the <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> path: 
</p><p>In <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>, select in the menu <span><em><span style="border-bottom:1px dotted #ccc;"> File </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Set Path...</span></em></span> and add the <i>scripts</i> folder there  (on Mac, the file chooser doesn't let you choose directories within .app packages, so you have to use the <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> command <code>addpath('/Applications/Fiji.app/scripts')</code> or whatever folder works for you) .
</p><p><br />
</p>
<h2><span class="mw-headline" id="Importing_track_files">Importing track files</span></h2>
<p>TrackMate has an action to export a simplified XML file containing only the tracks as spot positions. It is only suitable for linear tracks: tracks that are non-branching, non-merging. In that case, there is a <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> function that can use this XML file to import the tracks and retrieve the relevant metadata:
</p>
<pre class="brush:matlab">
&gt;&gt; [tracks, md] = importTrackMateTracks('RealPhotobac20min_Tracks.xml');
&gt;&gt; tracks

tracks = 

    [125x4 double]
    [ 99x4 double]
    [125x4 double]
    [126x4 double]
    ...
 
&gt;&gt; md

md = 

       spaceUnits: 'pixel'
        timeUnits: 's'
    frameInterval: 5
             date: 'Thu, 8 Aug 2013 13:33:23'
           source: 'TrackMate v2.1.0'
</pre>
<p>Check the help section to learn about the output format (<code>doc importTrackMateTracks</code>). But basically, each track is represented by a <code>double</code> array in a cell array (one cell per particle). The <code>double</code> array itself is organized as <code>T X Y Z</code> with T by default being the frame integer number. 
</p><p>There exists one flag that can remove the Z dimension in 2D case. And another that can scale the time value so that it is in physical units rather than frame number. Again, check the function documentation for details. 
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Application_examples_and_links">Application examples and links</span></h2>
<p>There are some specialized tools in <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> that can exploit TrackMate results. 
For instance, here is a <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> class that performs <a rel="nofollow" class="external text" href="http://www.mathworks.com/matlabcentral/fileexchange/40692-mean-square-displacement-analysis-of-particles-trajectories">mean-square displacement analysis</a>.
It is hopefully well documented in this <a rel="nofollow" class="external text" href="http://www.mathworks.com/matlabcentral/fileexchange/40692-mean-square-displacement-analysis-of-particles-trajectories/content/msdanalyzer/MSDTuto.html"></a><a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a><a rel="nofollow" class="external text" href="http://www.mathworks.com/matlabcentral/fileexchange/40692-mean-square-displacement-analysis-of-particles-trajectories/content/msdanalyzer/MSDTuto.html"> tutorial</a>.
</p><p><br />
</p><p><a href="./User:JeanYvesTinevez" title="User:JeanYvesTinevez">Jean-Yves Tinevez</a> (<a href="index.php?title=User_talk:JeanYvesTinevez&amp;action=edit&amp;redlink=1" class="new" title="User talk:JeanYvesTinevez (page does not exist)">talk</a>) 10:35, 8 August 2013 (CDT)
</p>
<!-- 
NewPP limit report
Cached time: 20200713064517
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.020 seconds
Real time usage: 0.020 seconds
Preprocessor visited node count: 156/1000000
Preprocessor generated node count: 3627/1000000
Postâ€expand include size: 399/2097152 bytes
Template argument size: 68/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.124      1 - -total
 61.85%    6.880      1 - Template:Person
 36.49%    4.059      1 - Template:Bc
  9.25%    1.029      1 - Template:Arrow
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Analyzing_TrackMate_results_with_MATLAB&amp;oldid=17774">http://imagej.net/index.php?title=Analyzing_TrackMate_results_with_MATLAB&amp;oldid=17774</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 8 October 2015, at 13:22.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Tracking" title="Category:Tracking">Tracking</a></li><li><a href="./Category:Matlab" title="Category:Matlab">Matlab</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":172});});</script>
		</body>
		</html>
		