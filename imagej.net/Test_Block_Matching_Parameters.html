<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Test Block Matching Parameters - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Test_Block_Matching_Parameters","wgTitle":"Test Block Matching Parameters","wgCurRevisionId":41398,"wgRevisionId":41398,"wgArticleId":1556,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Test_Block_Matching_Parameters","wgRelevantArticleId":1556,"wgRequestId":"2bc246a52363058124f1a887","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="The plugin Test Block Matching Parameters is a helper plugin to explore the parameter space for block matching as used in the plugins for elastic serial section registration.  It takes as input a stack of pre-aligned RGB images with background rendered in green (rgb 0,255,0).  It then asks for block matching parameters using the same dialog as in the alignment plugins.  It will try to match all to all slices of the stack and render a matrix that displays all matching results as a color-coded translation field.  That field will have blank entries where the matching result did not pass the filters."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ImageJ (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ImageJ Atom feed" href="index.php?title=Special:RecentChanges&amp;feed=atom"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Test Block Matching Parameters"/>

	<meta property="og:description" content="The plugin Test Block Matching Parameters is a helper plugin to explore the parameter space for block matching as used in the plugins for elastic serial section registration.  It takes as input a stack of pre-aligned RGB images with background rendered in green (rgb 0,255,0).  It then asks for block matching parameters using the same dialog as in the alignment plugins.  It will try to match all to all slices of the stack and render a matrix that displays all matching results as a color-coded translation field.  That field will have blank entries where the matching result did not pass the filters."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Test_Block_Matching_Parameters rootpage-Test_Block_Matching_Parameters skin-erudite action-view">
		<div class="mw-jump">
			<a href="Test_Block_Matching_Parameters.html#bodyContent">Skip to content</a>, 			<a href="Test_Block_Matching_Parameters.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Test_Block_Matching_Parameters.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="Test_Block_Matching_Parameters" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:Test_Block_Matching_Parameters&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=Test_Block_Matching_Parameters&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=Test_Block_Matching_Parameters&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>Test Block Matching Parameters</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="clear:both"></div>
<table class="infobox" cellspacing="5" style="max-width: 31em; font-size: 90%; text-align: left; float: right; border: 1px solid #a0a0a0;">
<tr>
<th colspan="2" style="text-align: center; font-size: 130%;"> <div style="float: left"></div>Test Block Matching Parameters (Fiji)<div style="clear: left;"></div>
</th></tr>
<tr>
<th> Author
</th>
<td> <a href="User:Saalfeld" class="mw-redirect" title="User:Saalfeld">Stephan Saalfeld</a> (<a rel="nofollow" class="external autonumber" href="mailto:saalfeld@mpi-cbg.de">[1]</a>)
</td></tr>




<tr>
<th> Maintainer
</th>
<td> <a href="User:Saalfeld" class="mw-redirect" title="User:Saalfeld">Stephan Saalfeld</a>
</td></tr>


<tr>
<th> Source
</th>
<td> <a rel="nofollow" class="external autonumber" href="https://fiji.sc/cgi-bin/gitweb.cgi?p=mpicbg.git;a=tree;f=mpicbg/ij/clahe">[2]</a>
</td></tr>
<tr>
<th> Initial release
</th>
<td> March 27<sup>th</sup>, 2012
</td></tr>
<tr>
<th> Latest version
</th>
<td> March 27<sup>th</sup>, 2012
</td></tr>
<tr>
<th> Development status
</th>
<td> experimental, active
</td></tr>
<tr>
<th> Category
</th>
<td> <a href="Category:Plugins" title="Category:Plugins">Plugins</a>, <a href="Category:Registration" title="Category:Registration">Registration</a>
</td></tr>

</table>
<p><br />
The plugin <b>Test Block Matching Parameters</b> is a helper plugin to explore the parameter space for block matching as used in the plugins for <a href="Elastic_Alignment_and_Montage" title="Elastic Alignment and Montage">elastic serial section registration</a>.  It takes as input a stack of pre-aligned RGB images with background rendered in green (rgb 0,255,0).  It then asks for block matching parameters using the same dialog as in the alignment plugins.  It will try to match all to all slices of the stack and render a matrix that displays all matching results as a color-coded translation field.  That field will have blank entries where the matching result did not pass the filters.
</p>
<h2><span class="mw-headline" id="What_to_look_for.3F">What to look for?</span></h2>
<dl><dt>Non-systematic random colors</dt>
<dd>are wrong matches and must be removed.  Strengthening the filters and increasing the block-size may help.</dd></dl>
<dl><dt>Systematic saturated colors</dt>
<dd>indicate that the search radius is too small, local deformation are larger than what you set.</dd></dl>
<dl><dt>Systematic blackness</dt>
<dd>indicates that the search radius is too large, local deformation is smaller than what you set.</dd></dl>
<dl><dt>Consistently much white gaps even for adjacent sections</dt>
<dd>indicates that the filters may be too strict.  Switch off the smoothness filter and trigger the local filters such that only a few randomly colored spots remain in the otherwise smooth field.  Then adjust the smoothnes filter such that only those spots are removed.</dd></dl>
<dl><dt>Matches only in the middle of the section with a large white border</dt>
<dd>means that your block-size and search radius in combination may be too large.  Matching is not performed beyond image borders.</dd></dl>
<h2><span class="mw-headline" id="General_comments">General comments</span></h2>
<p>You should generate the pre-aligned stack with <a href="TrakEM2" title="TrakEM2">TrakEM2</a> and export it at the resolution that you want to finally use (e.g. 10% for TEM series where the pixel size is 10&#215; smaller than the section thickness) as RGB with green background (rgb 0,255,0).  In the Test plugin you would then set <b>scale</b> to 1.0 and use accordingly scaled parameters for all fields that take their input in pixels.  In the actual application, you then need to scale those parameters back (e.g. &#215;10 when you had used a scale of 10% for export).
</p>
<!-- 
NewPP limit report
Cached time: 20200713073953
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.024 seconds
Preprocessor visited node count: 332/1000000
Preprocessor generated node count: 3598/1000000
Postâ€expand include size: 1346/2097152 bytes
Template argument size: 666/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   15.067      1 - -total
 94.81%   14.285      1 - Template:Infobox
 72.64%   10.944      2 - Template:Person
  4.50%    0.678      1 - Template:-
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Test_Block_Matching_Parameters&amp;oldid=41398">http://imagej.net/index.php?title=Test_Block_Matching_Parameters&amp;oldid=41398</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 24 January 2020, at 11:56.</p><ul><li><a href="ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li><li><a href="index.php?title=Test_Block_Matching_Parameters&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":203});});</script>
		</body>
		</html>
		